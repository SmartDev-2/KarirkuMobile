Index: app/src/main/java/com/tem2/karirku/profilFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tem2.karirku;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.toolbox.JsonArrayRequest;\r\nimport com.android.volley.toolbox.Volley;\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class profilFragment extends Fragment {\r\n\r\n    private static final String SUPABASE_URL = \"https://tkjnbelcgfwpbhppsnrl.supabase.co\";\r\n    private static final String SUPABASE_API_KEY = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRram5iZWxjZ2Z3cGJocHBzbnJsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE3NDA3NjIsImV4cCI6MjA3NzMxNjc2Mn0.wOjK4X2qJV6LzOG4yXxnfeTezDX5_3Sb3wezhCuQAko\";\r\n\r\n    private TextView tvName, tvEmail;\r\n    private CircleImageView imgProfile;\r\n    private SessionManager sessionManager;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_profil, container, false);\r\n\r\n        sessionManager = new SessionManager(requireContext());\r\n\r\n        tvName = view.findViewById(R.id.tvNama);\r\n        tvEmail = view.findViewById(R.id.tvSelengkapnya);\r\n        imgProfile = view.findViewById(R.id.imgProfile);\r\n\r\n        loadUserData();\r\n\r\n        setupClickListeners(view);\r\n\r\n        return view;\r\n    }\r\n\r\n    private void loadUserData() {\r\n        int userId = sessionManager.getUserId();\r\n        Log.d(\"PROFILE\", \"Load profile for user ID: \" + userId);\r\n\r\n        String url = SUPABASE_URL + \"/rest/v1/pengguna?id_pengguna=eq.\" + userId + \"&select=nama_lengkap,email,foto_url\";\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(requireContext());\r\n\r\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\r\n                response -> {\r\n                    try {\r\n                        if (response.length() > 0) {\r\n                            JSONObject user = response.getJSONObject(0);\r\n\r\n                            String name = user.optString(\"nama_lengkap\", \"-\");\r\n                            String email = user.optString(\"email\", \"-\");\r\n                            String fotoUrl = user.optString(\"foto_url\", \"\");\r\n\r\n                            tvName.setText(name);\r\n                            tvEmail.setText(email);\r\n\r\n                            // Jika ada foto di Supabase, load\r\n                            if (!fotoUrl.isEmpty()) {\r\n                                String fullImageUrl =\r\n                                        SUPABASE_URL + \"/storage/v1/object/public/\" + fotoUrl;\r\n\r\n                                Log.d(\"PROFILE\", \"Load image from: \" + fullImageUrl);\r\n\r\n                                Glide.with(requireContext())\r\n                                        .load(fullImageUrl)\r\n                                        .into(imgProfile);\r\n                            }\r\n                        }\r\n\r\n                    } catch (Exception e) {\r\n                        Log.e(\"PROFILE\", \"Parsing error: \" + e.getMessage());\r\n                    }\r\n                },\r\n                error -> Log.e(\"PROFILE\", \"Volley error: \" + error.toString())\r\n        ) {\r\n            @Override\r\n            public Map<String, String> getHeaders() {\r\n                Map<String, String> headers = new HashMap<>();\r\n                headers.put(\"apikey\", SUPABASE_API_KEY);\r\n                headers.put(\"Authorization\", \"Bearer \" + SUPABASE_API_KEY);\r\n                return headers;\r\n            }\r\n        };\r\n\r\n        queue.add(request);\r\n    }\r\n\r\n\r\n    private void setupClickListeners(View view) {\r\n\r\n        // Dilamar\r\n        view.findViewById(R.id.dilamarContainer).setOnClickListener(v ->\r\n                startActivity(new Intent(getActivity(), DilamarActivity.class)));\r\n\r\n        // Disimpan\r\n        view.findViewById(R.id.disimpanContainer).setOnClickListener(v ->\r\n                startActivity(new Intent(getActivity(), DisimpanActivity.class)));\r\n\r\n        // CV\r\n        view.findViewById(R.id.itemCV).setOnClickListener(v ->\r\n                startActivity(new Intent(getActivity(), CvActivity.class)));\r\n\r\n        // Setting\r\n        view.findViewById(R.id.btnSetting).setOnClickListener(v ->\r\n                Toast.makeText(getActivity(), \"Fitur settings\", Toast.LENGTH_SHORT).show());\r\n\r\n        // Lengkapi Profil\r\n        view.findViewById(R.id.btnLengkapiProfil).setOnClickListener(v ->\r\n                startActivity(new Intent(getActivity(), LengkapiProfilActivity.class)));\r\n\r\n        // LOGOUT\r\n        view.findViewById(R.id.btnKeluar).setOnClickListener(v -> {\r\n            sessionManager.clearSession();\r\n            startActivity(new Intent(getActivity(), MainActivity.class));\r\n            requireActivity().finish();\r\n        });\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/tem2/karirku/profilFragment.java b/app/src/main/java/com/tem2/karirku/profilFragment.java
--- a/app/src/main/java/com/tem2/karirku/profilFragment.java	(revision 36e5261a5fbfe541fec79a70dd689fb2dbba4803)
+++ b/app/src/main/java/com/tem2/karirku/profilFragment.java	(date 1764058150835)
@@ -121,6 +121,10 @@
         view.findViewById(R.id.itemCV).setOnClickListener(v ->
                 startActivity(new Intent(getActivity(), CvActivity.class)));
 
+        //pendataan user
+        view.findViewById(R.id.itemPreferensiKerja).setOnClickListener(v ->
+                startActivity(new Intent(getActivity(), PreferensiKerjaActivity.class)));
+
         // Setting
         view.findViewById(R.id.btnSetting).setOnClickListener(v ->
                 Toast.makeText(getActivity(), "Fitur settings", Toast.LENGTH_SHORT).show());
